{"ast":null,"code":"var _jsxFileName = \"/Users/guilhermelemospimentel/Documents/Trybe/projetos/sd-028-b-project-trivia-react-redux/src/Pages/Login.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport md5 from 'crypto-js/md5';\nimport BtnSettings from '../components/BtnSettings';\nimport { actionLoginSuccess } from '../redux/actions';\nimport { tokenEndpoint } from '../services/Api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      name: '',\n      gravatarEmail: ''\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n    this.handleClick = e => {\n      e.preventDefault();\n      const {\n        history,\n        infoLogin,\n        fetchingToken\n      } = this.props;\n      const {\n        gravatarEmail,\n        name\n      } = this.state;\n      const mdiHash = md5(gravatarEmail).toString();\n      const imgGravatar = `https://www.gravatar.com/avatar/${mdiHash}`;\n      infoLogin({\n        name,\n        gravatarEmail,\n        imgGravatar\n      });\n      fetchingToken(tokenEndpoint());\n      history.push('/game');\n    };\n  }\n  render() {\n    const {\n      gravatarEmail,\n      name\n    } = this.state;\n    const {\n      history\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: [\"NOME\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          \"data-testid\": \"input-player-name\",\n          id: \"name\",\n          name: \"name\",\n          value: name,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: [\"EMAIL\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          \"data-testid\": \"input-gravatar-email\",\n          id: \"email\",\n          name: \"gravatarEmail\",\n          value: gravatarEmail,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"btn-play\",\n          type: \"button\",\n          onClick: this.handleClick,\n          disabled: !gravatarEmail.match(/\\S+@\\S+\\.\\S+/) || name.length === 0,\n          children: \"Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BtnSettings, {\n          history: history\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  }\n}\nLogin.propTypes = {\n  history: PropTypes.objectOf\n}.isRequired;\nconst mapDispatchToProps = {\n  fetchingToken: tokenEndpoint,\n  infoLogin: actionLoginSuccess\n};\nexport default connect(null, mapDispatchToProps)(Login);","map":{"version":3,"names":["React","Component","PropTypes","connect","md5","BtnSettings","actionLoginSuccess","tokenEndpoint","Login","state","name","gravatarEmail","handleChange","target","value","setState","handleClick","e","preventDefault","history","infoLogin","fetchingToken","props","mdiHash","toString","imgGravatar","push","render","match","length","propTypes","objectOf","isRequired","mapDispatchToProps"],"sources":["/Users/guilhermelemospimentel/Documents/Trybe/projetos/sd-028-b-project-trivia-react-redux/src/Pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport md5 from 'crypto-js/md5';\nimport BtnSettings from '../components/BtnSettings';\nimport { actionLoginSuccess } from '../redux/actions';\nimport { tokenEndpoint } from '../services/Api';\n\nclass Login extends Component {\n  state = {\n    name: '',\n    gravatarEmail: '',\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  };\n\n  handleClick = (e) => {\n    e.preventDefault();\n    const { history, infoLogin, fetchingToken } = this.props;\n    const { gravatarEmail, name } = this.state;\n    const mdiHash = md5(gravatarEmail).toString();\n    const imgGravatar = `https://www.gravatar.com/avatar/${mdiHash}`;\n    infoLogin({ name, gravatarEmail, imgGravatar });\n    fetchingToken(tokenEndpoint());\n\n    history.push('/game');\n  };\n\n  render() {\n    const { gravatarEmail, name } = this.state;\n    const { history } = this.props;\n\n    return (\n      <div>\n\n        <label\n          htmlFor=\"name\"\n        >\n          NOME\n          <input\n            type=\"text\"\n            data-testid=\"input-player-name\"\n            id=\"name\"\n            name=\"name\"\n            value={ name }\n            onChange={ this.handleChange }\n          />\n        </label>\n\n        <label\n          htmlFor=\"email\"\n        >\n          EMAIL\n          <input\n            type=\"email\"\n            data-testid=\"input-gravatar-email\"\n            id=\"email\"\n            name=\"gravatarEmail\"\n            value={ gravatarEmail }\n            onChange={ this.handleChange }\n          />\n        </label>\n\n        <div>\n          <button\n            data-testid=\"btn-play\"\n            type=\"button\"\n            onClick={ this.handleClick }\n            disabled={ !gravatarEmail\n              .match(/\\S+@\\S+\\.\\S+/) || name.length === 0 }\n          >\n            Play\n          </button>\n\n          <BtnSettings history={ history } />\n\n        </div>\n\n      </div>\n    );\n  }\n}\nLogin.propTypes = {\n  history: PropTypes.objectOf,\n}.isRequired;\n\nconst mapDispatchToProps = {\n  fetchingToken: tokenEndpoint,\n  infoLogin: actionLoginSuccess,\n};\n\nexport default connect(null, mapDispatchToProps)(Login);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}