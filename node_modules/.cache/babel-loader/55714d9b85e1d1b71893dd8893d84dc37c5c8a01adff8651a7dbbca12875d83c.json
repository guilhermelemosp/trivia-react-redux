{"ast":null,"code":"var _jsxFileName = \"/Users/guilhermelemospimentel/Documents/Trybe/projetos/sd-028-b-project-trivia-react-redux/src/Pages/Login.js\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n// import md5 from 'crypto-js/md5';\nimport BtnSettings from '../components/BtnSettings';\n// import { actionLoginSuccess } from '../redux/actions';\n// import { tokenEndpoint } from '../services/Api';\nimport { USERS_INFO_SAVED, actionHandled, acessUserRequest } from '../redux/actions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Login extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      name: '',\n      gravatarEmail: ''\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        name,\n        value\n      } = target;\n      this.setState({\n        [name]: value\n      });\n    };\n    this.handleClick = async () => {\n      const {\n        history,\n        dispatch,\n        email\n      } = this.props;\n      dispatch(actionHandled(USERS_INFO_SAVED, this.state));\n      await dispatch(acessUserRequest());\n      if (email) {\n        history.push('/game');\n      }\n    };\n  }\n  render() {\n    const {\n      gravatarEmail,\n      name\n    } = this.state;\n    const {\n      history\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"name\",\n        children: [\"NOME\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          \"data-testid\": \"input-player-name\",\n          id: \"name\",\n          name: \"name\",\n          value: name,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email\",\n        children: [\"EMAIL\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          \"data-testid\": \"input-gravatar-email\",\n          id: \"email\",\n          name: \"gravatarEmail\",\n          value: gravatarEmail,\n          onChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": \"btn-play\",\n          type: \"button\",\n          onClick: this.handleClick,\n          disabled: !gravatarEmail.match(/\\S+@\\S+\\.\\S+/) || name.length === 0,\n          children: \"Play\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(BtnSettings, {\n          history: history\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this);\n  }\n}\nLogin.propTypes = {\n  history: PropTypes.objectOf\n}.isRequired;\nconst mapStateToProps = {\n  email: state.player.gravatarEmail\n};\nexport default connect(mapStateToProps)(Login);","map":{"version":3,"names":["React","Component","PropTypes","connect","BtnSettings","USERS_INFO_SAVED","actionHandled","acessUserRequest","Login","state","name","gravatarEmail","handleChange","target","value","setState","handleClick","history","dispatch","email","props","push","render","match","length","propTypes","objectOf","isRequired","mapStateToProps","player"],"sources":["/Users/guilhermelemospimentel/Documents/Trybe/projetos/sd-028-b-project-trivia-react-redux/src/Pages/Login.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n// import md5 from 'crypto-js/md5';\nimport BtnSettings from '../components/BtnSettings';\n// import { actionLoginSuccess } from '../redux/actions';\n// import { tokenEndpoint } from '../services/Api';\nimport { USERS_INFO_SAVED, actionHandled, acessUserRequest } from '../redux/actions';\n\nclass Login extends Component {\n  state = {\n    name: '',\n    gravatarEmail: '',\n  };\n\n  handleChange = ({ target }) => {\n    const { name, value } = target;\n    this.setState({ [name]: value });\n  };\n\n  // handleClick = (e) => {\n  //   e.preventDefault();\n  //   const { history, infoLogin, fetchingToken } = this.props;\n  //   const { gravatarEmail, name } = this.state;\n  //   const mdiHash = md5(gravatarEmail).toString();\n  //   const imgGravatar = `https://www.gravatar.com/avatar/${mdiHash}`;\n  //   infoLogin({ name, gravatarEmail, imgGravatar });\n  //   fetchingToken(tokenEndpoint());\n\n  //   history.push('/game');\n  // };\n\n  handleClick = async () => {\n    const { history, dispatch, email } = this.props;\n    dispatch(actionHandled(USERS_INFO_SAVED, this.state));\n    await dispatch(acessUserRequest());\n    if (email) {\n      history.push('/game');\n    }\n  };\n\n  render() {\n    const { gravatarEmail, name } = this.state;\n    const { history } = this.props;\n\n    return (\n      <div>\n\n        <label\n          htmlFor=\"name\"\n        >\n          NOME\n          <input\n            type=\"text\"\n            data-testid=\"input-player-name\"\n            id=\"name\"\n            name=\"name\"\n            value={ name }\n            onChange={ this.handleChange }\n          />\n        </label>\n\n        <label\n          htmlFor=\"email\"\n        >\n          EMAIL\n          <input\n            type=\"email\"\n            data-testid=\"input-gravatar-email\"\n            id=\"email\"\n            name=\"gravatarEmail\"\n            value={ gravatarEmail }\n            onChange={ this.handleChange }\n          />\n        </label>\n\n        <div>\n          <button\n            data-testid=\"btn-play\"\n            type=\"button\"\n            onClick={ this.handleClick }\n            disabled={ !gravatarEmail\n              .match(/\\S+@\\S+\\.\\S+/) || name.length === 0 }\n          >\n            Play\n          </button>\n\n          <BtnSettings history={ history } />\n\n        </div>\n\n      </div>\n    );\n  }\n}\nLogin.propTypes = {\n  history: PropTypes.objectOf,\n}.isRequired;\n\nconst mapStateToProps = ({\n  email: state.player.gravatarEmail,\n\n});\n\nexport default connect(mapStateToProps)(Login);\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,SAAS,MAAM,YAAY;AAClC,SAASC,OAAO,QAAQ,aAAa;AACrC;AACA,OAAOC,WAAW,MAAM,2BAA2B;AACnD;AACA;AACA,SAASC,gBAAgB,EAAEC,aAAa,EAAEC,gBAAgB,QAAQ,kBAAkB;AAAC;AAErF,MAAMC,KAAK,SAASP,SAAS,CAAC;EAAA;IAAA;IAAA,KAC5BQ,KAAK,GAAG;MACNC,IAAI,EAAE,EAAE;MACRC,aAAa,EAAE;IACjB,CAAC;IAAA,KAEDC,YAAY,GAAG,QAAgB;MAAA,IAAf;QAAEC;MAAO,CAAC;MACxB,MAAM;QAAEH,IAAI;QAAEI;MAAM,CAAC,GAAGD,MAAM;MAC9B,IAAI,CAACE,QAAQ,CAAC;QAAE,CAACL,IAAI,GAAGI;MAAM,CAAC,CAAC;IAClC,CAAC;IAAA,KAcDE,WAAW,GAAG,YAAY;MACxB,MAAM;QAAEC,OAAO;QAAEC,QAAQ;QAAEC;MAAM,CAAC,GAAG,IAAI,CAACC,KAAK;MAC/CF,QAAQ,CAACZ,aAAa,CAACD,gBAAgB,EAAE,IAAI,CAACI,KAAK,CAAC,CAAC;MACrD,MAAMS,QAAQ,CAACX,gBAAgB,EAAE,CAAC;MAClC,IAAIY,KAAK,EAAE;QACTF,OAAO,CAACI,IAAI,CAAC,OAAO,CAAC;MACvB;IACF,CAAC;EAAA;EAEDC,MAAM,GAAG;IACP,MAAM;MAAEX,aAAa;MAAED;IAAK,CAAC,GAAG,IAAI,CAACD,KAAK;IAC1C,MAAM;MAAEQ;IAAQ,CAAC,GAAG,IAAI,CAACG,KAAK;IAE9B,oBACE;MAAA,wBAEE;QACE,OAAO,EAAC,MAAM;QAAA,WACf,MAEC;UACE,IAAI,EAAC,MAAM;UACX,eAAY,mBAAmB;UAC/B,EAAE,EAAC,MAAM;UACT,IAAI,EAAC,MAAM;UACX,KAAK,EAAGV,IAAM;UACd,QAAQ,EAAG,IAAI,CAACE;QAAc;UAAA;UAAA;UAAA;QAAA,QAC9B;MAAA;QAAA;QAAA;QAAA;MAAA,QACI,eAER;QACE,OAAO,EAAC,OAAO;QAAA,WAChB,OAEC;UACE,IAAI,EAAC,OAAO;UACZ,eAAY,sBAAsB;UAClC,EAAE,EAAC,OAAO;UACV,IAAI,EAAC,eAAe;UACpB,KAAK,EAAGD,aAAe;UACvB,QAAQ,EAAG,IAAI,CAACC;QAAc;UAAA;UAAA;UAAA;QAAA,QAC9B;MAAA;QAAA;QAAA;QAAA;MAAA,QACI,eAER;QAAA,wBACE;UACE,eAAY,UAAU;UACtB,IAAI,EAAC,QAAQ;UACb,OAAO,EAAG,IAAI,CAACI,WAAa;UAC5B,QAAQ,EAAG,CAACL,aAAa,CACtBY,KAAK,CAAC,cAAc,CAAC,IAAIb,IAAI,CAACc,MAAM,KAAK,CAAG;UAAA,UAChD;QAED;UAAA;UAAA;UAAA;QAAA,QAAS,eAET,QAAC,WAAW;UAAC,OAAO,EAAGP;QAAS;UAAA;UAAA;UAAA;QAAA,QAAG;MAAA;QAAA;QAAA;QAAA;MAAA,QAE/B;IAAA;MAAA;MAAA;MAAA;IAAA,QAEF;EAEV;AACF;AACAT,KAAK,CAACiB,SAAS,GAAG;EAChBR,OAAO,EAAEf,SAAS,CAACwB;AACrB,CAAC,CAACC,UAAU;AAEZ,MAAMC,eAAe,GAAI;EACvBT,KAAK,EAAEV,KAAK,CAACoB,MAAM,CAAClB;AAEtB,CAAE;AAEF,eAAeR,OAAO,CAACyB,eAAe,CAAC,CAACpB,KAAK,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}